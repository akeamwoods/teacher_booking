(this.webpackJsonprm=this.webpackJsonprm||[]).push([[0],{160:function(e,n,t){e.exports=t(232)},231:function(e,n,t){},232:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(31),o=t.n(c),i=t(9),l=t(25),s=t(22),u=t(14),d=Object(u.createAction)("selected month changed")(),f=Object(u.createAction)("selected day changed")(),b=Object(u.createAction)("new lesson created")(),p=Object(u.createAction)("new series created")(),m=Object(u.createAction)("lesson edited")(),O=Object(u.createAction)("lesson edited with series added")(),g=Object(u.createAction)("lesson deleted")(),j=Object(u.createAction)("lesson focussed")(),v=Object(u.createAction)("lesson unfocussed")(),y={selectedMonthChanged:d,selectedDayChanged:f,newLessonCreated:b,newSeriesCreated:p,lessonEdited:m,lessonDeleted:g,lessonFocussed:j,infoPanelClosed:Object(u.createAction)("info panel closed")(),lessonUnfocussed:v,closePanelButtonPressed:Object(u.createAction)("close panel button pressed")(),lessonEditedSeriesAdded:O,popupOpened:Object(u.createAction)("popup opened")(),popupClosed:Object(u.createAction)("popup closed")(),updateStartTime:Object(u.createAction)("lesson start time updated")(),seriesDeleted:Object(u.createAction)("series deleted")()},h=t(34),x=t(19),E=t(137),w=t(139),k=t(112),D=t(138),S=t.n(D),C=t(108),I=t(234),M=t(235),T=t(236),F=t(250),H=t(77),L=t(237),A=t(238),z=t(239),P=t(240),Y=function(e){var n=["#f3225a","#22b7f3","#f3ab22","#3eb764","#4E22F3","#F32222","#F32293","#9B22F3"],t=e?[].concat(Object(l.a)(e),n):n;Z(t);var a=t.reduce((function(e,n){return e[n]=(e[n]||0)+1,e}),{}),r=Object.keys(a).sort((function(e,n){return a[n]-a[e]}));return r[r.length-1]},Z=function(e){for(var n=e.length-1;n>0;n--){var t=Math.floor(Math.random()*(n+1)),a=[e[t],e[n]];e[n]=a[0],e[t]=a[1]}},N=function(e){var n=e.toLowerCase();return"monday"===n?1:"tuesday"===n?2:"wednesday"===n?3:"thursday"===n?4:"friday"===n?5:"saturday"===n?6:0},B=t(253),V={key:"root",storage:S.a,blacklist:["selectedDate","lessons","classes","focussedLesson","infoPanelOpen","popupOpen"]},R=function(){return{selectedDate:Object(C.a)(new Date).toISOString(),lessons:{"2020-07-19T23:00:00.000Z":[{id:"f949d4f0-b121-4137-bbab-8e8e2cd2b312",teacherId:"01",subject:"English",start:"2020-07-20T07:30:00.000Z",end:"2020-07-20T08:30:00.000Z",class:"01",color:"#f3225a"},{id:"114fc19c-d081-4ec6-91e3-8628d074939a",teacherId:"01",subject:"French",start:"2020-07-20T10:30:00.000Z",end:"2020-07-20T11:30:00.000Z",class:"01",color:"#22b7f3"},{id:"850364f0-33eb-4400-a4a4-a9ebbd2650bf",teacherId:"01",subject:"English",start:"2020-07-20T11:45:00.000Z",end:"2020-07-20T13:00:00.000Z",class:"01",color:"#f3ab22"}]},classes:[{id:"01",year:7,group:"A",students:[]}],focussedLesson:void 0,infoPanelOpen:!1,popupOpen:!1,infoPanelColor:void 0}},_=Object(k.a)(V,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R(),n=arguments.length>1?arguments[1]:void 0;return Object(w.a)(e,(function(e){var t;switch(n.type){case Object(u.getType)(y.selectedMonthChanged):e.selectedDate=Object(I.a)(new Date(e.selectedDate),Object(M.a)(n.payload)).toISOString();break;case Object(u.getType)(y.selectedDayChanged):e.selectedDate=new Date(n.payload).toISOString();break;case Object(u.getType)(y.newLessonCreated):var a=Object(C.a)(new Date(n.payload.start)).toISOString(),r=Object(s.a)(Object(s.a)({},n.payload),{},{color:Y(e.lessons[a]?e.lessons[a].map((function(e){return e.color})):[])});e.lessons[a]?e.lessons[a]=[].concat(Object(l.a)(e.lessons[a]),[r]):e.lessons[a]=[r];break;case Object(u.getType)(y.newSeriesCreated):var c=n.payload.series.days,o=n.payload.series.start,d=n.payload.series.end,f=Object(T.a)(o),b="".concat(Object(F.a)(new Date(n.payload.lesson.start),"HH"),":").concat(Object(F.a)(new Date(n.payload.lesson.start),"mm")),p="".concat(Object(F.a)(new Date(n.payload.lesson.end),"HH"),":").concat(Object(F.a)(new Date(n.payload.lesson.end),"mm")),m=[];Object.entries(c).forEach((function(e){if(e[1])for(var n=(N(e[0])-f+7)%7,t=Object(H.a)(o,n);Object(L.a)(t,d)||Object(A.a)(t,d);)m.push(t),t=Object(H.a)(t,7)})),m.forEach((function(t){var a=Object(C.a)(t).toISOString(),r=Object(s.a)(Object(s.a)({},n.payload.lesson),{},{id:Object(B.a)(),start:new Date(new Date(t.setHours(parseFloat(b))).setMinutes(parseFloat(b.slice(-2)))).toISOString(),end:new Date(new Date(t.setHours(parseFloat(p))).setMinutes(parseFloat(p.slice(-2)))).toISOString(),color:Y(e.lessons[a]?e.lessons[a].map((function(e){return e.color})):[])});e.lessons[a]?e.lessons[a]=[].concat(Object(l.a)(e.lessons[a]),[r]):e.lessons[a]=[r]}));break;case Object(u.getType)(y.lessonEditedSeriesAdded):var O=Object(B.a)(),g=n.payload.series.days,j=n.payload.series.start,v=n.payload.series.end,h=Object(T.a)(j),x="".concat(Object(F.a)(new Date(n.payload.lesson.start),"HH"),":").concat(Object(F.a)(new Date(n.payload.lesson.start),"mm")),E="".concat(Object(F.a)(new Date(n.payload.lesson.end),"HH"),":").concat(Object(F.a)(new Date(n.payload.lesson.end),"mm")),w=[];e.lessons[n.payload.oldKey]=Object(l.a)(e.lessons[n.payload.oldKey].filter((function(e){return e.id!==n.payload.lesson.id}))),Object.entries(g).forEach((function(e){if(e[1])for(var n=(N(e[0])-h+7)%7,t=Object(H.a)(j,n);Object(L.a)(t,v)||Object(A.a)(t,v);)w.push(t),t=Object(H.a)(t,7)})),w.forEach((function(t){var a=Object(C.a)(t).toISOString(),r=Object(s.a)(Object(s.a)({},n.payload.lesson),{},{seriesId:n.payload.lesson.seriesId?n.payload.lesson.seriesId:O,id:Object(B.a)(),start:new Date(new Date(t.setHours(parseFloat(x))).setMinutes(parseFloat(x.slice(-2)))).toISOString(),end:new Date(new Date(t.setHours(parseFloat(E))).setMinutes(parseFloat(E.slice(-2)))).toISOString(),color:Y(e.lessons[a]?e.lessons[a].map((function(e){return e.color})):[])});e.lessons[a]?e.lessons[a]=[].concat(Object(l.a)(e.lessons[a]),[r]):e.lessons[a]=[r]}));break;case Object(u.getType)(y.lessonDeleted):e.lessons[n.payload.date]=Object(l.a)(e.lessons[n.payload.date].filter((function(e){return e.id!==n.payload.id}))),e.lessons[n.payload.date].length||delete e.lessons[n.payload.date],e.focussedLesson&&e.focussedLesson.id===n.payload.id&&(e.focussedLesson=void 0);break;case Object(u.getType)(y.lessonFocussed):e.focussedLesson=n.payload,e.infoPanelColor=n.payload.color,e.infoPanelOpen=!0;break;case Object(u.getType)(y.lessonUnfocussed):e.focussedLesson=void 0;break;case Object(u.getType)(y.closePanelButtonPressed):e.infoPanelOpen=!1;break;case Object(u.getType)(y.lessonEdited):var k,D=n.payload.oldKey,S=Object(C.a)(new Date(n.payload.lesson.start)).toISOString();e.lessons[D]=Object(l.a)(e.lessons[D].filter((function(e){return e.id!==n.payload.lesson.id}))),e.lessons[S]?e.lessons[S]=[].concat(Object(l.a)(e.lessons[S]),[n.payload.lesson]):e.lessons[S]=[n.payload.lesson],(null===(k=e.focussedLesson)||void 0===k?void 0:k.id)===n.payload.lesson.id&&(e.focussedLesson=n.payload.lesson);break;case Object(u.getType)(y.popupOpened):e.popupOpen=!0;break;case Object(u.getType)(y.popupClosed):e.popupOpen=!1;break;case Object(u.getType)(y.updateStartTime):var Z=e.lessons[Object(C.a)(new Date(n.payload.time)).toISOString()].find((function(e){return e.id===n.payload.id}));if(Z){Z.seriesId&&(Z.seriesId=void 0);var V=Object(z.a)(new Date(Z.end),new Date(Z.start));Z.start=n.payload.time,Z.end=Object(P.a)(new Date(n.payload.time),V).toISOString(),e.focussedLesson&&e.focussedLesson.id===Z.id&&(e.focussedLesson=Z)}break;case Object(u.getType)(y.seriesDeleted):for(var R=0,_=Object.entries(e.lessons);R<_.length;R++){var G=Object(i.a)(_[R],1)[0];e.lessons[G]=e.lessons[G].filter((function(e){return e.seriesId!==n.payload})),e.lessons[G].length||delete e.lessons[G]}(null===(t=e.focussedLesson)||void 0===t?void 0:t.seriesId)&&e.focussedLesson.seriesId===n.payload&&(e.focussedLesson=void 0)}}))})),G=Object(h.createStore)(_,Object(E.composeWithDevTools)()),K=(Object(k.b)(G),x.c),W=t(20),U=t(82),q=t(249),J=t(150),Q=t(1),X=t(2);function $(){var e=Object(Q.a)(["\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  overflow: auto;\n  div::-webkit-scrollbar {\n    height: 0px;\n    width: 0px; /* Remove scrollbar space */\n    background: transparent; /* Optional: just make scrollbar invisible */\n  }\n"]);return $=function(){return e},e}var ee=X.a.div($()),ne=t(140),te=function(e,n){var t=Object(T.a)(e);return[0,6].includes(t)?"repeating-linear-gradient(\n      135deg,\n      #f8f8f7,\n      #f8f8f7 2px,\n      #efefef 2px,\n      #efefef 4px\n    )":0===n?"#efefef":n<3?"#3eb764":n<5?"#f3ab22":"#f3225a"},ae=function(e,n){var t=Object(T.a)(e);return[0,6].includes(t)||0===n?"#000":"#fff"};function re(){var e=Object(Q.a)(["\n  font-size: 0.7em;\n  color: #abb1b6;\n  padding-bottom: 15px;\n"]);return re=function(){return e},e}function ce(){var e=Object(Q.a)(["\n  display: flex;\n  background: #e1e1e1;\n  padding: 25px;\n  border: none;\n  width: 30px;\n  height: 30px;\n  border-radius: 50%;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n"]);return ce=function(){return e},e}function oe(){var e=Object(Q.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  flex: 1;\n  text-align: center;\n  cursor: pointer;\n  :not(:last-child) {\n    padding-right: 10px;\n  }\n  :not(:first-child) {\n    padding-left: 10px;\n  }\n  border-bottom: 2px solid;\n  margin: 0;\n"]);return oe=function(){return e},e}function ie(){var e=Object(Q.a)(["\n  display: flex;\n  overflow: auto;\n  min-width: 100%;\n  justify-content: space-between;\n"]);return ie=function(){return e},e}var le=X.a.div(ie()),se=X.a.div.attrs((function(e){return{style:{borderBottomColor:e.isCurrentDay?"#2296f3":"#e1e1e1"}}}))(oe()),ue=X.a.button.attrs((function(e){return{style:{background:e.isCurrentDay?"#2296f3":te(e.day,e.lessons),color:e.isCurrentDay?"#fff":ae(e.day,e.lessons),boxShadow:e.isCurrentDay?"0 4px 8px 0 rgba(0,0,0,0.2)":"none"}}}))(ce()),de=X.a.p(re()),fe=r.a.memo((function(e){var n=e.startOfMonth,t=Object(ne.a)(new Date(n)),a=Array.from(Array(t),(function(e,t){return Object(H.a)(Object(C.a)(new Date(n)),t).toISOString()}));return r.a.createElement(le,null,a.map((function(e){return r.a.createElement(be,{key:e,day:e})})))})),be=r.a.memo((function(e){var n=e.day,t=Object(x.b)(),c=Object(a.createRef)(),o=K((function(e){return e.selectedDate===n})),i=K((function(e){return e.lessons[Object(C.a)(new Date(n)).toISOString()]}));return r.a.useEffect((function(){setTimeout((function(){o&&c.current&&c.current.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}),50)}),[o,c]),r.a.createElement(se,{ref:c,onClick:function(){t(y.selectedDayChanged(Object(C.a)(new Date(n))))},isCurrentDay:o},r.a.createElement(ue,{isCurrentDay:o,day:new Date(n),lessons:(null===i||void 0===i?void 0:i.length)?i.length:0},Object(F.a)(new Date(n),"d")),r.a.createElement(de,null,Object(F.a)(new Date(n),"E")))})),pe=t(144),me=t(241);function Oe(){var e=Object(Q.a)(["\n  display: flex;\n  cursor: pointer;\n  font-size: 1.2em;\n  border: none;\n  background: transparent;\n  :not(:last-child) {\n    margin-right: 30px;\n  }\n"]);return Oe=function(){return e},e}function ge(){var e=Object(Q.a)(["\n  display: flex;\n  overflow: auto;\n  margin: 30px 0;\n  min-width: 100%;\n  justify-content: space-between;\n  font-size: 1.2em;\n"]);return ge=function(){return e},e}var je=X.a.div(ge()),ve=X.a.button.attrs((function(e){return{style:{fontWeight:e.isCurrentMonth?800:400}}}))(Oe()),ye=r.a.memo((function(e){var n=e.startOfYear,t=Array.from(Array(12),(function(e,t){return Object(pe.a)(new Date(n),t)}));return r.a.createElement(je,null,t.map((function(e){return r.a.createElement(he,{key:e.toISOString(),month:e})})))})),he=r.a.memo((function(e){var n=e.month,t=Object(x.b)(),c=K((function(e){return Object(me.a)(new Date(e.selectedDate),n)})),o=Object(a.createRef)();return r.a.useEffect((function(){setTimeout((function(){c&&o.current&&o.current.scrollIntoView({behavior:"auto",block:"center",inline:"center"})}),10)}),[c,o]),r.a.createElement(ve,{isCurrentMonth:c,onClick:function(){t(y.selectedMonthChanged(n))},ref:o},Object(F.a)(n,"MMMM"))}));function xe(){var e=Object(Q.a)(["\n  bottom: 0;\n  border-bottom: 2px solid #e1e1e1;\n"]);return xe=function(){return e},e}function Ee(){var e=Object(Q.a)(["\n  bottom: 0;\n  border-bottom: 2px solid #e1e1e1;\n"]);return Ee=function(){return e},e}function we(){var e=Object(Q.a)(["\n  right: 0;\n  background: linear-gradient(\n    90deg,\n    rgba(255, 255, 255, 0),\n    rgba(255, 255, 255, 1)\n  );\n"]);return we=function(){return e},e}function ke(){var e=Object(Q.a)(["\n  position: absolute;\n  width: 50%;\n  height: 100%;\n  background: linear-gradient(\n    90deg,\n    rgba(255, 255, 255, 1),\n    rgba(255, 255, 255, 0)\n  );\n"]);return ke=function(){return e},e}function De(){var e=Object(Q.a)(["\n  display: flex;\n  position: relative;\n  pointer-events: none;\n"]);return De=function(){return e},e}function Se(){var e=Object(Q.a)(["\n  background: #fff;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  overflow: auto;\n  pointer-events: all;\n"]);return Se=function(){return e},e}var Ce=X.a.div(Se()),Ie=(X.a.div(De()),X.a.div(ke())),Me=Object(X.a)(Ie)(we()),Te=(Object(X.a)(Ie)(Ee()),Object(X.a)(Me)(xe()),t(247)),Fe=t(242);function He(){var e=Object(Q.a)(["\n  /* background: #ffce85; */\n"]);return He=function(){return e},e}function Le(){var e=Object(Q.a)(["\n  /* background: #dbf4ff; */\n"]);return Le=function(){return e},e}function Ae(){var e=Object(Q.a)(["\n  padding: 0 30px;\n  border-radius: 4px;\n  border: none;\n  font-size: 0.7em;\n  font-weight: 800;\n  background: white;\n  border: 1px solid #efedea;\n  margin-left: 10px;\n"]);return Ae=function(){return e},e}function ze(){var e=Object(Q.a)(["\n  display: flex;\n  align-items: stretch;\n  justify-content: space-between;\n  padding: 30px 20px 0 20px;\n  margin: 0;\n\n  h1,\n  h4 {\n    margin: 0;\n  }\n\n  span {\n    display: flex;\n    select {\n      padding: 0 15px;\n      margin: 0 10px;\n      border-color: #efedea;\n      border-radius: 4px;\n      font-weight: 800;\n    }\n  }\n"]);return ze=function(){return e},e}var Pe=X.a.header(ze()),Ye=X.a.button(Ae()),Ze=Object(X.a)(Ye)(Le()),Ne=Object(X.a)(Ye)(He()),Be=t(36),Ve=t(17);function Re(){var e=Object(Q.a)(["\n  background: transparent;\n  border: none;\n  position: absolute;\n  right: 10px;\n  top: 10px;\n  padding: 0;\n"]);return Re=function(){return e},e}function _e(){var e=Object(Q.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  flex: 1;\n"]);return _e=function(){return e},e}function Ge(){var e=Object(Q.a)(["\n  display: flex;\n  flex-direction: column;\n  background: #fff;\n  text-align: center;\n  align-items: center;\n  justify-content: center;\n  border-radius: 4px;\n  position: relative;\n  max-width: 80%;\n  max-height: 80%;\n  align-items: stretch;\n"]);return Ge=function(){return e},e}function Ke(){var e=Object(Q.a)(["\n  position: fixed;\n  display: flex;\n  flex-direction: column;\n  background: rgba(0, 0, 0, 0.6);\n  z-index: 10;\n  width: 100%;\n  height: 100%;\n  align-items: center;\n  justify-content: center;\n"]);return Ke=function(){return e},e}var We=Object(X.a)(Be.a.div)(Ke()),Ue=Object(X.a)(Be.a.div)(Ge()),qe=X.a.header(_e()),Je=X.a.button(Re());function Qe(e,n){Object(a.useEffect)((function(){var t=function(t){t.key===e&&n()};return window.addEventListener("keydown",t),function(){window.removeEventListener("keydown",t)}}),[n,e])}var Xe=150,$e=r.a.memo((function(e){var n,t=e.isVisible,c=e.onClick,i=e.children,l=e.scrollLock;n=!(!t||!(void 0!==l&&l)),Object(a.useEffect)((function(){return document.body.style.overflow=n?"hidden":"unset",function(){document.body.style.overflow="unset"}}),[n]),Qe("Escape",(function(){t&&c()}));var s=Object(Be.b)(t,null,{from:{opacity:0},enter:{opacity:1},leave:{opacity:0},unique:!0,config:{duration:Xe}}),u=Object(Be.b)(t,null,{from:{transform:"scale(0)"},enter:{transform:"scale(1)"},leave:{transform:"scale(0)"},unique:!0,config:{duration:Xe}});return o.a.createPortal(r.a.createElement(r.a.Fragment,null,s.map((function(e){var n=e.item,t=e.key,a=e.props;return n&&r.a.createElement(We,{onClick:c,style:a,key:t},u.map((function(e){var n=e.item,t=e.key,a=e.props;return n&&r.a.createElement(Ue,{key:t,style:a,onClick:function(e){return e.stopPropagation()}},r.a.createElement(qe,null,r.a.createElement(Je,{onClick:c},r.a.createElement(Ve.i,null))),i)})))}))),document.body)})),en=t(243),nn=t(244),tn=t(245);function an(){var e=Object(Q.a)(["\n  display: grid;\n  grid-template-columns: repeat(7, 25px);\n  grid-template-rows: repeat(7, 25px);\n  grid-column-gap: 0px;\n  grid-row-gap: 0px;\n  font-size: 0.7em;\n"]);return an=function(){return e},e}function rn(){var e=Object(Q.a)(["\n  display: flex;\n  flex-direction: column;\n  flex: 1 1 auto;\n  width: 175px;\n  font-family: Arial, Helvetica, sans-serif;\n  border: 1px solid #e1e1e1;\n  border-radius: 4px;\n  padding: 10px;\n  background: white;\n  position: absolute;\n  right: 0;\n  top: 100%;\n"]);return rn=function(){return e},e}function cn(){var e=Object(Q.a)(["\n  position: relative;\n  display: flex;\n  position: relative;\n  flex-direction: column;\n  flex: 1;\n  z-index: 3;\n"]);return cn=function(){return e},e}var on=X.a.div(cn()),ln=X.a.div(rn()),sn=X.a.div(an());function un(){var e=Object(Q.a)(["\n  opacity: ",";\n  font-weight: ",";\n"]);return un=function(){return e},e}function dn(){var e=Object(Q.a)(["\n  display: flex;\n  font-size: 1em;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  border: none;\n  background: ",";\n  color: ",";\n  border-radius: 4px;\n  opacity: ",";\n  :hover {\n    background: ",";\n    color: ",";\n  }\n"]);return dn=function(){return e},e}var fn=X.a.button.attrs((function(e){return{}}))(dn(),(function(e){return e.isSelected?"#2296f3":"none"}),(function(e){return e.isSelected?"#fff":"#000"}),(function(e){return e.isSelected?1:void 0}),(function(e){return!e.isSelected&&e.isDate?"rgba(34,150,243, 0.6)":void 0}),(function(e){return!e.isSelected&&e.isDate?"#fff":void 0})),bn=X.a.p.attrs((function(e){return{}}))(un(),(function(e){return e.differentMonth&&!e.isHeading?.5:1}),(function(e){return e.isHeading?600:0})),pn=r.a.memo((function(e){var n=e.heading,t=e.date,a=e.onClick,c=e.isSelected,o=e.isSameMonth;return r.a.createElement(fn,{isDate:!!t,isSelected:c,onClick:function(){return t&&a?a(t):void 0}},r.a.createElement(bn,{isHeading:!!n,differentMonth:!o},n||(t?Object(F.a)(t,"d"):void 0)))}));function mn(){var e=Object(Q.a)(["\n  background: transparent;\n  cursor: pointer;\n  border: none;\n  opacity: 0.3;\n  transition: 0.3s;\n  :hover {\n    opacity: 1;\n  }\n"]);return mn=function(){return e},e}function On(){var e=Object(Q.a)(["\n  display: flex;\n  justify-content: space-between;\n  padding: 0 0 10px 0;\n  align-items: center;\n\n  h4 {\n    margin: 0;\n    padding: 0;\n    font-size: 0.8em;\n    align-self: center;\n  }\n"]);return On=function(){return e},e}var gn=X.a.div(On()),jn=X.a.button(mn()),vn=r.a.memo((function(e){var n=e.date,t=e.left,a=e.right;return r.a.createElement(gn,null,r.a.createElement(jn,{onClick:function(e){e.preventDefault(),t()}},r.a.createElement(Ve.a,null)),r.a.createElement("h4",null,Object(F.a)(n,"MMMM yyyy")),r.a.createElement(jn,{onClick:function(e){e.preventDefault(),a()}},r.a.createElement(Ve.b,null)))}));function yn(){var e=Object(Q.a)(["\n  padding: 10px;\n  background: #fff;\n  border: 1px solid #edebe9;\n  border-radius: 4px;\n  svg {\n    margin-left: 10px;\n  }\n"]);return yn=function(){return e},e}var hn=X.a.button(yn()),xn=r.a.memo((function(e){var n=e.selectedDate,t=e.onClick;return r.a.createElement(hn,{type:"button",onClick:function(e){e.stopPropagation(),t()}},Object(F.a)(n,"do MMMM Y"),r.a.createElement(Ve.h,null))}));var En=r.a.memo((function(e){var n=e.selectedDate,t=e.changeDate,c=e.close,o=e.setOpen,l=e.isOpen,s=e.singleClick,u=void 0!==s&&s,d=Object(a.useState)(Object(C.a)(n)),f=Object(i.a)(d,2),b=f[0],p=f[1],m=Object(T.a)(Object(Fe.a)(b)),O=0===m?6:m-1,g=Object(ne.a)(b),j=42-O-g,v=function(e){t(e),p(Object(C.a)(e)),u&&c()},y=r.a.createRef(),h=Array(O).fill(0).map((function(e,n){return Object(en.a)(Object(nn.a)(Object(tn.a)(b,1)),O-n-1)})),x=Array(g).fill(1).map((function(e,n){return Object(H.a)(Object(Fe.a)(b),n)})),E=Array(j>0?j:0).fill(0).map((function(e,n){return Object(H.a)(Object(Fe.a)(Object(pe.a)(b,1)),n)})),w=function(e){return!(!e||!Object(me.a)(e,b))};return function(e,n){Object(a.useEffect)((function(){var t=function(t){e.current&&!e.current.contains(t.target)&&n(t)};return document.addEventListener("mousedown",t),document.addEventListener("touchstart",t),function(){document.removeEventListener("mousedown",t),document.removeEventListener("touchstart",t)}}),[e,n])}(y,Object(a.useCallback)((function(){l&&(c(),p(Object(C.a)(n)))}),[n,l,c])),l||Object(A.a)(n,b)||p(Object(C.a)(n)),r.a.createElement(on,{ref:y},r.a.createElement(xn,{selectedDate:n,onClick:function(){o(!l)}}),l&&r.a.createElement(ln,{onClick:function(e){return e.stopPropagation()}},r.a.createElement(vn,{date:b,left:function(){return p(Object(tn.a)(b,1))},right:function(){return p(Object(pe.a)(b,1))}}),r.a.createElement(sn,null,["M","T","W","T","F","S","S"].map((function(e,n){return r.a.createElement(pn,{key:e+n,heading:e,isSelected:!1,isSameMonth:!1})})),h.map((function(e){return r.a.createElement(pn,{key:e.toISOString(),date:e,onClick:v,isSelected:Object(A.a)(e,n),isSameMonth:w(e)})})),x.map((function(e){return r.a.createElement(pn,{key:e.toISOString(),date:e,onClick:v,isSelected:Object(A.a)(e,n),isSameMonth:w(e)})})),E.map((function(e){return r.a.createElement(pn,{key:e.toISOString(),date:e,onClick:v,isSelected:Object(A.a)(e,n),isSameMonth:w(e)})})))))})),wn=t(246);function kn(){var e=Object(Q.a)(["\n  border: none;\n  background: transparent;\n  padding: 5px;\n"]);return kn=function(){return e},e}function Dn(){var e=Object(Q.a)(["\n  font-size: 0.9em;\n  text-align: left;\n  display: flex;\n  justify-content: space-between;\n  cursor: pointer;\n  p {\n    margin: 0;\n  }\n  div {\n    display: flex;\n  }\n  span {\n    background: ",";\n    width: 5px;\n    height: 100%;\n    margin-right: 5px;\n  }\n"]);return Dn=function(){return e},e}function Sn(){var e=Object(Q.a)(["\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  p,\n  h3 {\n    margin: 0;\n  }\n  p {\n    font-size: 0.9em;\n  }\n  h3 {\n    font-size: 1.1em;\n  }\n\n  :not(:first-child) {\n    margin-top: 10px;\n  }\n"]);return Sn=function(){return e},e}function Cn(){var e=Object(Q.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 200px;\n  border: 1px solid #eaeaea;\n"]);return Cn=function(){return e},e}function In(){var e=Object(Q.a)(["\n  margin-top: 10px;\n  padding: 10px;\n  border: none;\n  background: #2296f3;\n  color: #fff;\n  border-radius: 4px;\n  :disabled {\n    opacity: 0.4;\n  }\n"]);return In=function(){return e},e}function Mn(){var e=Object(Q.a)(["\n  background: #fff;\n  padding: 10px;\n  border: 1px solid #edebe9;\n  border-radius: 4px;\n  display: flex;\n  flex: 1;\n  :first-child {\n    margin-right: 5px;\n  }\n  :last-child {\n    margin-left: 5px;\n  }\n"]);return Mn=function(){return e},e}function Tn(){var e=Object(Q.a)(["\n  padding: 10px;\n  border: 1px solid #edebe9;\n  border-radius: 4px;\n  margin-top: 10px;\n"]);return Tn=function(){return e},e}function Fn(){var e=Object(Q.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return Fn=function(){return e},e}function Hn(){var e=Object(Q.a)(["\n  display: flex;\n  z-index: 1;\n  div:first-child {\n    margin-right: 5px;\n  }\n  div:last-child {\n    margin-left: 5px;\n  }\n"]);return Hn=function(){return e},e}function Ln(){var e=Object(Q.a)(["\n  padding: 20px;\n  margin: 1px;\n  display: flex;\n  flex-direction: column;\n  min-width: 300px;\n\n  @media only screen and (max-width: 430px) {\n    min-width: 200px;\n  }\n"]);return Ln=function(){return e},e}var An=X.a.div(Ln()),zn=X.a.span(Hn()),Pn=X.a.form(Fn()),Yn=X.a.input(Tn()),Zn=(X.a.select(Mn()),X.a.button(In())),Nn=X.a.div(Cn()),Bn=X.a.span(Sn()),Vn=X.a.div.attrs((function(e){return{}}))(Dn(),(function(e){return e.color})),Rn=X.a.button(kn());function _n(){var e=Object(Q.a)(["\n  margin-top: 10px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font: 400 13.3333px Arial;\n  input:not(:last-child) {\n    margin-right: 10px;\n  }\n  input:last-child {\n    margin-right: 0;\n  }\n"]);return _n=function(){return e},e}function Gn(){var e=Object(Q.a)(["\n  background: #fff;\n  padding: 10px;\n  border: 1px solid #edebe9;\n  border-radius: 4px;\n  display: flex;\n  flex: 1;\n  :first-child {\n    margin-right: 5px;\n  }\n  :last-child {\n    margin-left: 5px;\n  }\n"]);return Gn=function(){return e},e}var Kn=X.a.select(Gn()),Wn=X.a.span(_n()),Un=function(e){var n=e.startTime,t=e.endTime,a=e.setStartTime,c=e.setEndTime,o=function(e,n,t){for(var a=[],r=60*n,c=0;r<60*t;c++){var o=Math.floor(r/60),i=r%60;a[c]=("0"+o).slice(-2)+":"+("0"+i).slice(-2),r+=e}return a}(15,8,17.15);return r.a.createElement("div",{style:{display:"flex",marginTop:"10px"}},r.a.createElement(Kn,{style:{color:n?"#000":"#7d7d7d"},value:o.indexOf(n),onChange:function(e){e.target.selectedIndex>0&&a(o[e.target.selectedIndex-1])}},r.a.createElement("option",{disabled:!!n},"Start Time"),o.filter((function(e,n){return n<o.length-1})).map((function(e,n){return r.a.createElement("option",{key:n,value:n},e)}))),r.a.createElement(Kn,{style:{color:t?"#000":"#7d7d7d"},value:o.indexOf(t),onChange:function(e){e.target.selectedIndex>0&&c(o[e.target.selectedIndex-1])}},r.a.createElement("option",{disabled:!!t},"End Time"),o.map((function(e,n){return r.a.createElement("option",{key:n,value:n},e)}))))},qn=function(e){var n=e.series,t=e.setSeries,a=e.classGroup,c=e.setClassGroup,o=K((function(e){return e.classes}));return r.a.createElement("div",{style:{display:"flex",marginTop:"10px",alignItems:"center"}},r.a.createElement(Kn,{style:{color:a?"#000":"#7d7d7d"},value:a&&o.indexOf(a),onChange:function(e){e.target.selectedIndex>0&&c(o[e.target.selectedIndex-1])}},r.a.createElement("option",{disabled:!!a},"Class"),o.map((function(e,n){return r.a.createElement("option",{key:n,value:n},e.year+e.group)}))),r.a.createElement("span",{style:{flex:1,marginLeft:"5px",padding:"10px",border:"1px solid transparent"}},r.a.createElement("label",null,"Series"),r.a.createElement("input",{type:"checkbox",checked:n,onChange:function(){return t(!n)}})))},Jn=function(e){var n=e.checkboxState,t=e.setCheckbox;return r.a.createElement(Wn,null,r.a.createElement("label",null,"Mon"),r.a.createElement("input",{type:"checkbox",checked:n.monday,onChange:function(){return t((function(e){return Object(s.a)(Object(s.a)({},e),{},{monday:!e.monday})}))}}),r.a.createElement("label",null,"Tue"),r.a.createElement("input",{type:"checkbox",checked:n.tuesday,onChange:function(){return t((function(e){return Object(s.a)(Object(s.a)({},e),{},{tuesday:!e.tuesday})}))}}),r.a.createElement("label",null,"Wed"),r.a.createElement("input",{type:"checkbox",checked:n.wednesday,onChange:function(){return t((function(e){return Object(s.a)(Object(s.a)({},e),{},{wednesday:!e.wednesday})}))}}),r.a.createElement("label",null,"Thu"),r.a.createElement("input",{type:"checkbox",checked:n.thursday,onChange:function(){return t((function(e){return Object(s.a)(Object(s.a)({},e),{},{thursday:!e.thursday})}))}}),r.a.createElement("label",null,"Fri"),r.a.createElement("input",{type:"checkbox",checked:n.friday,onChange:function(){return t((function(e){return Object(s.a)(Object(s.a)({},e),{},{friday:!e.friday})}))}}))},Qn=function(e){var n=e.initialDate,t=Object(x.b)(),c=Object(a.useState)(new Date(n)),o=Object(i.a)(c,2),l=o[0],s=o[1],u=Object(a.useState)(!1),d=Object(i.a)(u,2),f=d[0],b=d[1],p=Object(a.useState)(!1),m=Object(i.a)(p,2),O=m[0],g=m[1],j=Object(a.useState)(!1),v=Object(i.a)(j,2),h=v[0],E=v[1],w=Object(a.useState)(void 0),k=Object(i.a)(w,2),D=k[0],S=k[1],I=Object(a.useState)(void 0),M=Object(i.a)(I,2),T=M[0],F=M[1],H=Object(a.useState)(l),L=Object(i.a)(H,2),A=L[0],z=L[1],P=Object(a.useState)(Object(wn.a)(l,1)),Y=Object(i.a)(P,2),Z=Y[0],N=Y[1],V=Object(a.useState)(!1),R=Object(i.a)(V,2),_=R[0],G=R[1],K=Object(a.useState)(void 0),W=Object(i.a)(K,2),U=W[0],q=W[1],J=Object(a.useState)(""),Q=Object(i.a)(J,2),X=Q[0],$=Q[1],ee=Object(a.useState)({monday:!1,tuesday:!1,wednesday:!1,thursday:!1,friday:!1}),ne=Object(i.a)(ee,2),te=ne[0],ae=ne[1];return r.a.createElement(An,null,r.a.createElement("h3",{style:{margin:0}},"New Lesson"),r.a.createElement("img",{style:{margin:"20px"},height:"100px",src:"/teacher_bookingcalendar.svg",alt:"New Lesson Icon"}),r.a.createElement(Pn,{onSubmit:function(e){e.preventDefault(),T&&U&&D&&t(_?y.newSeriesCreated({lesson:{start:new Date(new Date(l.setHours(parseFloat(T))).setMinutes(parseFloat(T.slice(-2)))).toISOString(),end:new Date(new Date(l.setHours(parseFloat(U))).setMinutes(parseFloat(U.slice(-2)))).toISOString(),subject:X,teacherId:"01",seriesId:Object(B.a)(),class:null===D||void 0===D?void 0:D.id},series:{start:A,end:Z,days:te}}):y.newLessonCreated({id:Object(B.a)(),start:new Date(new Date(l.setHours(parseFloat(T))).setMinutes(parseFloat(T.slice(-2)))).toISOString(),end:new Date(new Date(l.setHours(parseFloat(U))).setMinutes(parseFloat(U.slice(-2)))).toISOString(),subject:X,teacherId:"01",class:null===D||void 0===D?void 0:D.id}))}},_?r.a.createElement(zn,null,r.a.createElement(En,{close:function(){return g(!1)},setOpen:g,isOpen:O,changeDate:function(e){return z(Object(C.a)(e))},selectedDate:Object(C.a)(A),singleClick:!0}),r.a.createElement(En,{close:function(){return E(!1)},setOpen:E,isOpen:h,changeDate:function(e){return N(Object(C.a)(e))},selectedDate:Object(C.a)(Z),singleClick:!0})):r.a.createElement(En,{close:function(){return b(!1)},setOpen:b,isOpen:f,changeDate:function(e){return s(Object(C.a)(e))},selectedDate:Object(C.a)(l||new Date(n)),singleClick:!0}),r.a.createElement(Yn,{placeholder:"Subject",value:X,onChange:function(e){return $(e.target.value)}}),r.a.createElement(Un,{startTime:T,endTime:U,setStartTime:F,setEndTime:q}),r.a.createElement(qn,{series:_,setSeries:G,classGroup:D,setClassGroup:S}),_&&r.a.createElement(Jn,{setCheckbox:ae,checkboxState:te}),r.a.createElement(Zn,{disabled:!T||!U||!X||!D||_&&!Object.values(te).includes(!0),type:"submit"},"Create")))},Xn=r.a.memo((function(e){var n=e.selectedDate,t=Object(x.b)(),c=Object(a.useState)(!1),o=Object(i.a)(c,2),l=o[0],s=o[1],u=Object(a.useState)(!1),d=Object(i.a)(u,2),f=d[0],b=d[1],p=K((function(e){return e.selectedDate}));return Qe("Escape",(function(){s(!1)})),r.a.createElement(Pe,null,r.a.createElement($e,{isVisible:f,onClick:function(){b(!1),t(y.popupClosed())},scrollLock:!0},r.a.createElement(Qn,{initialDate:p})),r.a.createElement("h1",null,"Availability"),r.a.createElement("span",null,r.a.createElement(En,{close:function(){return s(!1)},setOpen:s,isOpen:l,changeDate:function(e){return t(y.selectedDayChanged(Object(C.a)(new Date(e))))},selectedDate:new Date(n)}),r.a.createElement(Ze,{onClick:function(){return Object(A.a)(new Date(n),new Date)?void 0:t(y.selectedDayChanged(Object(C.a)(new Date)))},title:"Reset date to present"},r.a.createElement(Ve.k,null)),r.a.createElement(Ne,{onClick:function(){b(!0),t(y.popupOpened())},title:"Add lesson"},r.a.createElement(Ve.f,null))))})),$n=function(){var e=K((function(e){return e.selectedDate})),n=Object(Te.a)(new Date(e)).toISOString(),t=Object(Fe.a)(new Date(e)).toISOString();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Xn,{selectedDate:e}),r.a.createElement(Ce,null,r.a.createElement(ye,{startOfYear:n})),r.a.createElement(Ce,null,r.a.createElement(fe,{startOfMonth:t})))};function et(){var e=Object(Q.a)(["\n  margin: 0;\n  font-size: 0.7em;\n"]);return et=function(){return e},e}function nt(){var e=Object(Q.a)(["\n  margin: 0;\n  font-weight: 600;\n  font-size: 0.8em;\n"]);return nt=function(){return e},e}function tt(){var e=Object(Q.a)(["\n  display: flex;\n  flex: 1;\n  align-items: center;\n  justify-content: space-between;\n  flex-direction: row;\n  position: absolute;\n  width: calc(100% - 40px);\n  padding: 0 20px;\n  background: #2296f3;\n  color: #fff;\n  border-radius: 4px;\n  cursor: pointer;\n  transition: 0.3s;\n  opacity: 0.8;\n  overflow: hidden;\n  z-index: 1;\n\n  :hover {\n    opacity: 0.9;\n  }\n\n  span {\n    display: flex;\n    flex-direction: ",";\n    line-height: 1em;\n\n    h4 {\n      margin-right: ",";\n    }\n  }\n  button {\n    border: none;\n    color: #fff;\n    background: none;\n  }\n"]);return tt=function(){return e},e}function at(){var e=Object(Q.a)(["\n  position: absolute;\n  width: 100%;\n  border-bottom: 1px dotted #edebe9;\n  line-height: 0; /* Line up the *middle* of the number, not its baseline, with its value */\n"]);return at=function(){return e},e}function rt(){var e=Object(Q.a)(["\n  font-size: 0.7em;\n  color: #abb1b6;\n  line-height: 0; /* Line up the *middle* of the number, not its baseline, with its value */\n"]);return rt=function(){return e},e}function ct(){var e=Object(Q.a)(["\n  position: relative;\n  display: flex;\n  flex: 1;\n  margin-left: 20px;\n"]);return ct=function(){return e},e}function ot(){var e=Object(Q.a)(["\n  position: relative;\n"]);return ot=function(){return e},e}function it(){var e=Object(Q.a)(["\n  display: flex;\n  flex: 1;\n  position: relative;\n  overflow: auto;\n"]);return it=function(){return e},e}var lt=X.a.div.attrs((function(e){return{style:{padding:e.padding}}}))(it()),st=X.a.div.attrs((function(e){return{style:{height:e.height}}}))(ot()),ut=X.a.div(ct()),dt=X.a.div.attrs((function(e){return{style:{transform:e.transform}}}))(rt()),ft=X.a.rect.attrs((function(e){return{style:{transform:e.transform}}}))(at()),bt=X.a.rect.attrs((function(e){return{style:{transform:e.transform,height:e.height,background:e.colour}}}))(tt(),(function(e){return e.smallHeight?"row":"column"}),(function(e){return e.smallHeight?"5px":"0"})),pt=X.a.h4(nt()),mt=X.a.p(et()),Ot=t(149),gt=function(e){var n=e.scale,t=e.tickHeight,a=void 0===t?30:t,c=n.range()[0];return r.a.createElement(st,{height:"".concat(c,"px")},function(e,n,t){try{var a=Math.max(Math.floor(n/t),1),r=e.ticks(a);return r.length<a?r:r.filter((function(e,n){return n%2===0}))}catch(c){return[]}}(n,c,a).map((function(e){return r.a.createElement(dt,{key:e.toISOString(),transform:"translateY(".concat(n(e).toFixed(0),"px)")},Object(F.a)(e,"kk:mm"))})))},jt=t(251),vt=t(248),yt=r.a.memo((function(e){var n=e.lesson,t=e.scale,a=e.colour,c=e.isFocussed,o=Object(x.b)(),l=Object(jt.a)({item:{type:"*",id:n.id},collect:function(e){return{opacity:e.isDragging()?.8:1}}}),s=Object(i.a)(l,2)[1],u=new Date(n.start),d=new Date(n.end);return r.a.createElement(bt,{tabIndex:0,colour:a,ref:s,onClick:function(e){o(y.lessonFocussed(n)),e.currentTarget.scrollIntoView({behavior:"smooth",block:"start"})},style:{zIndex:c?2:1},height:"".concat(t(d)-t(u),"px"),transform:"translateY(".concat(t(u).toFixed(0),"px)"),smallHeight:Object(vt.a)(d,u)<1,key:n.id},r.a.createElement("span",null,r.a.createElement(pt,null,n.subject),r.a.createElement(mt,null,"".concat(Object(F.a)(u,"H:mm")," - ").concat(Object(F.a)(d,"H:mm")))),r.a.createElement("button",{onClick:function(e){e.stopPropagation(),o(y.lessonDeleted({date:Object(C.a)(u).toISOString(),id:n.id}))}},r.a.createElement(Ve.i,null)))})),ht=function(e){var n=e.scale,t=e.tickHeight,a=void 0===t?30:t,c=n.range()[0];return function(e,n,t){try{var a=Math.max(Math.floor(n/t),1),r=e.ticks(a);return r.length<a?r:r.filter((function(e,n){return n%2===0}))}catch(c){return[]}}(n,c,a).map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ft,{key:e.toISOString(),transform:"translateY(".concat(n(e).toFixed(0),"px)")}))}))},xt=t(252),Et=function(e){var n=e.scale,t=e.tickHeight,a=void 0===t?30:t,c=n.range()[0],o=new Date("2020-07-20T06:00:00.000Z"),i=new Date("2020-07-20T06:15:00.000Z"),l="".concat(n(i)-n(o),"px");return function(e,n,t){try{var a=Math.max(Math.floor(n/t),1),r=e.ticks(a);return r.length<a?r:r.filter((function(e,n){return n%2===0}))}catch(c){return[]}}(n,c,a).map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(wt,{id:e.toISOString(),tick:n(e),height:l}))}))},wt=function(e){var n=e.id,t=e.tick,c=e.height,o=Object(x.b)(),l=Object(a.useState)("none"),s=Object(i.a)(l,2),u=s[0],d=s[1],f=Object(xt.a)({drop:function(e,t){t.didDrop()||m&&o(y.updateStartTime({id:t.getItem().id,time:n}))},accept:"*",collect:function(e){return{isOver:e.isOver(),canDrop:e.canDrop()}}}),b=Object(i.a)(f,2),p=b[0],m=p.canDrop,O=p.isOver,g=b[1];return O&&"none"===u&&d("2px solid rgba(34,150,243, 1)"),O||"none"===u||d("none"),r.a.createElement("div",{key:n,ref:g,style:{position:"absolute",transform:"translateY(".concat(t.toFixed(0),"px)"),height:c,zIndex:1,width:"100%",borderTop:u}})},kt=function(){var e=K((function(e){return e.lessons[e.selectedDate]})),n=K((function(e){return e.focussedLesson})),t=K((function(e){return e.selectedDate})),a=Object(Ot.a)().range([525,0]).domain([new Date(new Date(t).setHours(parseFloat("17:00"))),new Date(new Date(t).setHours(parseFloat("08:00")))]);return r.a.createElement(lt,{padding:"".concat(a(new Date("2020-07-20T06:00:00.000Z"))-a(new Date("2020-07-20T05:00:00.000Z")),"px 20px")},r.a.createElement(gt,{tickHeight:35,scale:a}),r.a.createElement(ut,null,r.a.createElement(ht,{tickHeight:35,scale:a}),r.a.createElement(Et,{tickHeight:8.75,scale:a}),e&&e.map((function(e,t){var c;return r.a.createElement(yt,{colour:e.color,key:e.id,lesson:e,scale:a,isFocussed:null!==(c=(null===n||void 0===n?void 0:n.id)===e.id)&&void 0!==c&&c})}))))};function Dt(){var e=Object(Q.a)(["\n  display: flex;\n  button,\n  h2 {\n    padding: 0 5px;\n  }\n"]);return Dt=function(){return e},e}function St(){var e=Object(Q.a)(["\n  position: absolute;\n  top: 10px;\n  right: 10px;\n"]);return St=function(){return e},e}function Ct(){var e=Object(Q.a)(["\n  svg {\n    opacity: ",";\n  }\n  :hover svg {\n    opacity: 1;\n  }\n"]);return Ct=function(){return e},e}function It(){var e=Object(Q.a)(["\n  border: none;\n  color: #fff;\n  background: none;\n  display: flex;\n  align-items: center;\n"]);return It=function(){return e},e}function Mt(){var e=Object(Q.a)(["\n  color: #fff;\n  display: flex;\n  flex: 1;\n  margin: 0;\n  font-weight: 0;\n  text-align: center;\n"]);return Mt=function(){return e},e}function Tt(){var e=Object(Q.a)(["\n  color: #fff;\n  display: flex;\n  flex: 1;\n  margin: 0;\n  text-align: center;\n  font-size: 1.3em;\n  font-weight: 600;\n"]);return Tt=function(){return e},e}function Ft(){var e=Object(Q.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-top: 20px;\n"]);return Ft=function(){return e},e}function Ht(){var e=Object(Q.a)(["\n  display: flex;\n  justify-content: center;\n  margin-top: 20px;\n"]);return Ht=function(){return e},e}function Lt(){var e=Object(Q.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 30px 20px;\n  align-items: center;\n  flex: 1;\n  img {\n    width: 80%;\n  }\n"]);return Lt=function(){return e},e}var At=Object(X.a)(Be.a.div).attrs((function(e){return{style:{background:e.background?e.background:"transparent"}}}))(Lt()),zt=X.a.span(Ht()),Pt=X.a.span(Ft()),Yt=X.a.h2(Tt()),Zt=X.a.p(Mt()),Nt=X.a.button(It()),Bt=Object(X.a)(Nt).attrs((function(e){return{}}))(Ct(),(function(e){return e.isLinked?"1":"0.6"})),Vt=Object(X.a)(Nt)(St()),Rt=X.a.span(Dt()),_t=function(e){var n=e.initialDate,t=e.lesson,c=Object(x.b)(),o=K((function(e){return e.classes})),l=Object(a.useState)(new Date(n)),s=Object(i.a)(l,2),u=s[0],d=s[1],f=Object(a.useState)(!1),b=Object(i.a)(f,2),p=b[0],m=b[1],O=Object(a.useState)(!1),g=Object(i.a)(O,2),j=g[0],v=g[1],h=Object(a.useState)(!1),E=Object(i.a)(h,2),w=E[0],k=E[1],D=Object(a.useState)(o.find((function(e){return e.id===t.class}))),S=Object(i.a)(D,2),I=S[0],M=S[1],T=Object(a.useState)("".concat(Object(F.a)(new Date(t.start),"HH"),":").concat(Object(F.a)(new Date(t.start),"mm"))),H=Object(i.a)(T,2),L=H[0],A=H[1],z=Object(a.useState)("".concat(Object(F.a)(new Date(t.end),"HH"),":").concat(Object(F.a)(new Date(t.end),"mm"))),P=Object(i.a)(z,2),Y=P[0],Z=P[1],N=Object(a.useState)(t.subject),B=Object(i.a)(N,2),V=B[0],R=B[1],_=Object(a.useState)(!1),G=Object(i.a)(_,2),W=G[0],U=G[1],q=Object(a.useState)(u),J=Object(i.a)(q,2),Q=J[0],X=J[1],$=Object(a.useState)(Object(wn.a)(u,1)),ee=Object(i.a)($,2),ne=ee[0],te=ee[1],ae=Object(a.useState)({monday:!1,tuesday:!1,wednesday:!1,thursday:!1,friday:!1}),re=Object(i.a)(ae,2),ce=re[0],oe=re[1];return r.a.createElement(An,null,r.a.createElement("h3",{style:{margin:0}},"Edit Lesson"),r.a.createElement("img",{style:{margin:"20px"},height:"100px",src:"/teacher_bookingedit_calendar.svg",alt:"Update Lesson Icon"}),r.a.createElement(Pn,{onSubmit:function(e){e.preventDefault(),L&&Y&&I&&c(W?y.lessonEditedSeriesAdded({lesson:{id:t.id,start:new Date(new Date(u.setHours(parseFloat(L))).setMinutes(parseFloat(L.slice(-2)))).toISOString(),end:new Date(new Date(u.setHours(parseFloat(Y))).setMinutes(parseFloat(Y.slice(-2)))).toISOString(),subject:V,teacherId:"01",color:t.color,class:I.id},series:{start:Q,end:ne,days:ce},oldKey:n}):y.lessonEdited({lesson:{id:t.id,start:new Date(new Date(u.setHours(parseFloat(L))).setMinutes(parseFloat(L.slice(-2)))).toISOString(),end:new Date(new Date(u.setHours(parseFloat(Y))).setMinutes(parseFloat(Y.slice(-2)))).toISOString(),subject:V,teacherId:"01",color:t.color,class:I.id},oldKey:n}))}},W?r.a.createElement(zn,null,r.a.createElement(En,{close:function(){return v(!1)},setOpen:v,isOpen:j,changeDate:function(e){return X(Object(C.a)(e))},selectedDate:Object(C.a)(Q),singleClick:!0}),r.a.createElement(En,{close:function(){return k(!1)},setOpen:k,isOpen:w,changeDate:function(e){return te(Object(C.a)(e))},selectedDate:Object(C.a)(ne),singleClick:!0})):r.a.createElement(En,{close:function(){return m(!1)},setOpen:m,isOpen:p,changeDate:function(e){return d(Object(C.a)(e))},selectedDate:Object(C.a)(u||new Date(n)),singleClick:!0}),r.a.createElement(Yn,{placeholder:"Subject",value:V,onChange:function(e){return R(e.target.value)}}),r.a.createElement(Un,{startTime:L,endTime:Y,setStartTime:A,setEndTime:Z}),r.a.createElement(qn,{series:W,setSeries:U,classGroup:I,setClassGroup:M}),W&&r.a.createElement(Jn,{setCheckbox:oe,checkboxState:ce}),r.a.createElement(Zn,{disabled:!L||!Y||!V||!I||W&&!Object.values(ce).includes(!0),type:"submit"},"Update")))},Gt=t(67),Kt=function(e){var n,t=e.lesson,c=Object(x.b)(),o=K((function(e){return Array.prototype.concat.apply([],Object.values(e.lessons)).filter((function(e){return e.seriesId})).filter((function(e){return e.seriesId===t.seriesId})).sort((function(e,n){var t=new Date(e.start),a=new Date(n.start);return t.getTime()-a.getTime()}))})),l=o.reverse().find((function(e){return e.seriesId===t.seriesId})),s=o.reverse().find((function(e){return e.seriesId===t.seriesId})),u=o.length,d=Object(a.useState)(void 0),f=Object(i.a)(d,2),b=f[0],p=f[1],m=Object(a.useState)(new Gt.c({fixedWidth:!0,defaultHeight:100})),O=Object(i.a)(m,1)[0],g=null!==(n=null===b||void 0===b?void 0:b.length)&&void 0!==n?n:0,j=function(e){var n=e.index,t=e.key,a=e.style,c=e.parent;return r.a.createElement(r.a.Fragment,null,b&&r.a.createElement(Gt.b,{key:t,cache:O,parent:c,columnIndex:0,rowIndex:n},r.a.createElement(Vn,{style:a,tabIndex:0,color:b[n].color},r.a.createElement("div",{style:{width:"50px"}},r.a.createElement("span",null),r.a.createElement("p",null,n+1)),r.a.createElement("p",null,Object(F.a)(new Date(b[n].start),"EEEE do MMMM Y")),r.a.createElement("div",{style:{flex:1,justifyContent:"flex-end"}},r.a.createElement(Rn,null,r.a.createElement(Ve.l,null)),r.a.createElement(Rn,null,r.a.createElement(Ve.i,null))))))};return r.a.createElement(An,null,r.a.createElement("h3",{style:{margin:0}},"Series Details"),r.a.createElement("img",{style:{margin:"20px"},height:"100px",src:"/teacher_bookinglink_calendar.svg",alt:"New Lesson Icon"}),r.a.createElement(Pn,{onSubmit:function(e){return e.preventDefault()}},l&&s&&!b&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Bn,null,r.a.createElement("p",null,"Subject"),r.a.createElement("h3",null,t.subject)),r.a.createElement(Bn,null,r.a.createElement("p",null,"Series Duration"),r.a.createElement("h3",null,"".concat(Object(F.a)(new Date(s.start),"do MMMM Y")," - ").concat(Object(F.a)(new Date(l.start),"do MMM Y")))),r.a.createElement(Bn,null,r.a.createElement("p",null,"Time"),r.a.createElement("h3",null,"".concat(Object(F.a)(new Date(t.start),"HH:mm")," - ").concat(Object(F.a)(new Date(t.end),"HH:mm")))),r.a.createElement(Bn,{style:{marginBottom:"10px"}},r.a.createElement("p",null,"Lessons"),r.a.createElement("h3",null,u))),b&&r.a.createElement(Nn,null,r.a.createElement(Gt.a,null,(function(e){var n=e.width,t=e.height;return r.a.createElement(Gt.d,{tabIndex:0,containerStyle:{padding:0,margin:0},deferredMeasurementCache:O,width:n,height:t,rowHeight:O.rowHeight,rowRenderer:j,rowCount:g,overscanRowCount:20})}))),b?r.a.createElement(Zn,{type:"button",onClick:function(){return p(void 0)}},"View Series"):r.a.createElement("span",{style:{display:"flex"}},r.a.createElement(Zn,{type:"button",style:{flex:1},onClick:function(){return o?p(o):void 0}},"View Lessons"),r.a.createElement(Zn,{type:"button",style:{flex:1},onClick:function(){return c(y.seriesDeleted(t.seriesId))}},"Delete Series"))))},Wt=r.a.memo((function(e){var n=e.lesson,t=K((function(e){return e.infoPanelOpen})),c=K((function(e){return e.infoPanelColor})),o=Object(a.useState)(!1),l=Object(i.a)(o,2),s=l[0],u=l[1],d=Object(a.useState)("edit"),f=Object(i.a)(d,2),b=f[0],p=f[1],m=Object(Be.b)(t,null,{from:{transform:"translate(100%)"},enter:{transform:"translate(0)"},leave:{transform:"translate(100%)"},unique:!0,config:{duration:Xe}}),O=K((function(e){return e.popupOpen}));Qe("Escape",(function(){O||g(y.closePanelButtonPressed())}));var g=Object(x.b)(),j=K((function(e){return e.classes.find((function(e){return e.id===(null===n||void 0===n?void 0:n.class)}))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement($e,{isVisible:s,onClick:function(){u(!1),g(y.popupClosed())},scrollLock:!0},n&&"edit"===b?r.a.createElement(_t,{initialDate:Object(C.a)(new Date(n.start)).toISOString(),lesson:n}):n&&"series"===b?r.a.createElement(Kt,{lesson:n}):null),m.map((function(e){var t,a,o,i,l=e.item,s=e.key,d=e.props;return l&&r.a.createElement(At,{background:c,style:d,key:s},r.a.createElement(Vt,{onClick:function(){return g(y.closePanelButtonPressed())}},r.a.createElement(Ve.i,null)),r.a.createElement("img",{src:"/teacher_booking/blackboard.svg",alt:"Blackboard Icon"}),r.a.createElement(zt,null,r.a.createElement(Nt,{disabled:!n,onClick:function(){u(!0),p("edit"),g(y.popupOpened())}},r.a.createElement(Ve.d,{size:"22"})),r.a.createElement(Bt,{isLinked:!!(null===n||void 0===n?void 0:n.seriesId),disabled:!n||!n.seriesId,onClick:function(){u(!0),p("series"),g(y.popupOpened())}},(null===n||void 0===n?void 0:n.seriesId)?r.a.createElement(Ve.e,{size:"22"}):r.a.createElement(Ve.l,{size:"22"})),r.a.createElement(Nt,{disabled:!n,onClick:function(){return n?g(y.lessonDeleted({date:Object(C.a)(new Date(n.start)).toISOString(),id:n.id})):void 0}},r.a.createElement(Ve.j,{size:"22"}))),r.a.createElement(Pt,null,r.a.createElement(Zt,null,"Subject"),r.a.createElement(Yt,null,null!==(t=null===n||void 0===n?void 0:n.subject)&&void 0!==t?t:"N/A")),r.a.createElement(Pt,null,r.a.createElement(Zt,null,"Date"),r.a.createElement(Yt,null,(null===n||void 0===n?void 0:n.start)?Object(F.a)(new Date(n.start),"do MMMM Y"):"N/A")),r.a.createElement(Pt,null,r.a.createElement(Zt,null,"Time"),r.a.createElement(Yt,null,n?"".concat(Object(F.a)(new Date(null===n||void 0===n?void 0:n.start),"HH:mm")," - ").concat(Object(F.a)(new Date(null===n||void 0===n?void 0:n.end),"HH:mm")):"N/A")),r.a.createElement(r.a.Fragment,null,r.a.createElement(Pt,null,r.a.createElement(Zt,null,"Year"),r.a.createElement(Yt,null,null!==(a=null===j||void 0===j?void 0:j.year)&&void 0!==a?a:"N/A")),r.a.createElement(Pt,null,r.a.createElement(Zt,null,"Class"),r.a.createElement(Rt,null,r.a.createElement(Yt,null,null!==(o=null===j||void 0===j?void 0:j.group)&&void 0!==o?o:"N/A"))),r.a.createElement(Pt,null,r.a.createElement(Zt,null,"Students"),r.a.createElement(Rt,null,r.a.createElement(Yt,null,null!==(i=null===j||void 0===j?void 0:j.students.length)&&void 0!==i?i:"N/A"),n&&n.class&&r.a.createElement(Nt,null,r.a.createElement(Ve.g,null))))))})))})),Ut=function(){var e=K((function(e){return e.focussedLesson}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{position:"relative",display:"flex"}},r.a.createElement(Wt,{lesson:e})))},qt=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee,null,r.a.createElement($n,null),r.a.createElement(kt,null)),r.a.createElement(Ut,null))};function Jt(){var e=Object(Q.a)(["\n  color: #fff;\n  opacity: 0.6;\n"]);return Jt=function(){return e},e}function Qt(){var e=Object(Q.a)(["\n  background: #2296f3;\n  display: flex;\n  flex-direction: column;\n  padding: 30px 20px;\n\n  ul {\n    padding: 0;\n    margin: 0;\n    list-style: none;\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n  }\n\n  span {\n    display: flex;\n    flex-direction: column;\n  }\n  span a {\n    margin-bottom: 20px;\n  }\n  a {\n    transition: 0.3s;\n  }\n  a:hover {\n    opacity: 1;\n  }\n"]);return Qt=function(){return e},e}var Xt=X.a.nav(Qt()),$t=Object(X.a)(U.b)(Jt()),ea=function(){return r.a.createElement(Xt,null,r.a.createElement("ul",null,r.a.createElement("span",null,r.a.createElement($t,{exact:!0,to:"/",activeStyle:{opacity:"1"}},r.a.createElement(Ve.h,{size:"32"})),r.a.createElement($t,{to:"/students",activeStyle:{opacity:"1"}},r.a.createElement(Ve.m,{size:"32"}))),r.a.createElement($t,{to:"/settings",activeStyle:{opacity:"1"}},r.a.createElement(Ve.c,{size:"32"}))))},na=(t(231),function(){return r.a.createElement("div",{className:"App"},r.a.createElement(ea,null),r.a.createElement(W.a,{exact:!0,path:"/",component:qt}))}),ta=document.getElementById("root");Object(c.render)(r.a.createElement(x.a,{store:G},r.a.createElement(U.a,{basename:"/teacher_booking"},r.a.createElement(q.a,{backend:J.a},r.a.createElement(na,null)))),ta)}},[[160,1,2]]]);
//# sourceMappingURL=main.e854cb85.chunk.js.map